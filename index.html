<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IPL Betting</title>
</head>
<body>
  <h1>IPL Betting 2023</h1>
  <form id="predictionForm">
    <label for="playerName">Player Name:</label>
    <select id="playerName" required>
      <option value="Player1">Player1</option>
      <option value="Player2">Player2</option>
      <option value="Player3">Player3</option>
    </select>
    <br>
    <label for="matchId">Match ID:</label>
    <input type="number" id="matchId" required>
    <br>
    <label for="prediction">Prediction:</label>
    <input type="text" id="prediction" required>
    <br>
    <button type="submit">Submit Prediction</button>
  </form>
  <script>
    document.getElementById('predictionForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      const playerName = document.getElementById('playerName').value;
      const matchId = document.getElementById('matchId').value;
      const prediction = document.getElementById('prediction').value;

      // Fetch match details to check time
      const response = await fetch('YOUR_GOOGLE_APPS_SCRIPT_URL/exec?action=getMatchDetails&matchId=' + matchId);
      const matchDetails = await response.json();

      const matchDateTime = new Date(`${matchDetails.date} ${matchDetails.time}`);
      const now = new Date();

      if (now >= matchDateTime) {
        alert('Predictions cannot be submitted after the match start time.');
        return;
      }

      // Submit prediction
      const submitResponse = await fetch('YOUR_GOOGLE_APPS_SCRIPT_URL/exec', {
        method: 'POST',
        body: JSON.stringify({ playerName, matchId, prediction }),
        headers: { 'Content-Type': 'application/json' }
      });

      if (submitResponse.ok) {
        alert('Prediction submitted successfully!');
      } else {
        alert('Failed to submit prediction.');
      }
    });
  </script>
</body>
</html>
